<div class="ramadan-tracker">
    <h1>Ramadan 2025 Chore Tracker</h1>
    <table class="calendar">
        <tr>
            <th>Day</th>
            <th>Fasting</th>
            <th>Quran</th>
            <th>Dishwasher</th>
            <th>Taraweeh</th>
        </tr>
        <!-- Use a loop if you generate these rows dynamically. For now, static rows: -->
        <tr data-day="1"><td>Day 1</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="2"><td>Day 2</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="3"><td>Day 3</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="4"><td>Day 4</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="5"><td>Day 5</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="6"><td>Day 6</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="7"><td>Day 7</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="8"><td>Day 8</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="9"><td>Day 9</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="10"><td>Day 10</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="11"><td>Day 11</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="12"><td>Day 12</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="13"><td>Day 13</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="14"><td>Day 14</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="15"><td>Day 15</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="16"><td>Day 16</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="17"><td>Day 17</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="18"><td>Day 18</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="19"><td>Day 19</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="20"><td>Day 20</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="21"><td>Day 21</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="22"><td>Day 22</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="23"><td>Day 23</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="24"><td>Day 24</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="25"><td>Day 25</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="26"><td>Day 26</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="27"><td>Day 27</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="28"><td>Day 28</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="29"><td>Day 29</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
        <tr data-day="30"><td>Day 30</td><td data-task="fasting">⬜</td><td data-task="quran">⬜</td><td data-task="dishwasher">⬜</td><td data-task="taraweeh">⬜</td></tr>
    </table>
</div>

<style>
.ramadan-tracker {
    font-family: Arial, sans-serif;
    margin: 20px;
}
.calendar {
    border-collapse: collapse;
    width: 100%;
}
.calendar th, .calendar td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
}
th {
    background-color: #f2f2f2;
}
td {
    cursor: pointer;
}
</style>

<script>
// Key to use in localStorage
const STORAGE_KEY = "ramadanTracker";

// Load progress from localStorage
function loadProgress() {
    const savedData = localStorage.getItem(STORAGE_KEY);
    if (savedData) {
        return JSON.parse(savedData);
    }
    return {}; // default: no data
}

// Save progress to localStorage
function saveProgress(data) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
}

// Update the cell's content and save progress
function updateCell(day, task, status) {
    progress[day] = progress[day] || {};
    progress[day][task] = status;
    saveProgress(progress);
}

// Apply stored progress to the table cells
function applyProgress() {
    for (const row of document.querySelectorAll('.calendar tr[data-day]')) {
        const day = row.getAttribute('data-day');
        const rowData = progress[day] || {};
        row.querySelectorAll('td[data-task]').forEach(cell => {
            const task = cell.getAttribute('data-task');
            if (rowData[task]) {
                cell.textContent = rowData[task];
            }
        });
    }
}

const progress = loadProgress();

document.addEventListener('DOMContentLoaded', function() {
    // Apply saved progress on load
    applyProgress();

    // Add click event listener for each task cell
    const cells = document.querySelectorAll('td[data-task]');
    cells.forEach(cell => {
        cell.addEventListener('click', function() {
            // Toggle between unchecked and checked symbols
            const newStatus = this.textContent === '⬜' ? '✅' : '⬜';
            this.textContent = newStatus;
            const row = this.closest('tr');
            const day = row.getAttribute('data-day');
            const task = this.getAttribute('data-task');
            updateCell(day, task, newStatus);
        });
    });
});
</script>
